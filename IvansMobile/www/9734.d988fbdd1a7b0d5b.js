"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9734],{9734:(v,d,n)=>{n.r(d),n.d(d,{HistorialCompraPageModule:()=>b});var s=n(6814),p=n(95),r=n(7852),l=n(7168),t=n(6242),g=n(6506);function m(o,u){if(1&o){const i=t.EpF();t.TgZ(0,"ion-row",13)(1,"ion-col",14)(2,"h2"),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"ion-col",15)(6,"h2"),t._uU(7),t.qZA()(),t.TgZ(8,"ion-col",16)(9,"ion-button",5),t.NdJ("click",function(){const c=t.CHM(i).$implicit,_=t.oxw(2);return t.KtG(_.irPedido(c.idventa))}),t._uU(10,"Ver pedido"),t.qZA()()()}if(2&o){const i=u.$implicit;t.xp6(3),t.hij("LLega el ",t.xi3(4,2,i.fechaentrega,"d/M/yyyy"),""),t.xp6(4),t.hij("Pedido ",i.idventa,"")}}function h(o,u){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,m,11,5,"ion-row",12),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.compras)}}const f=[{path:"",component:(()=>{class o{constructor(i,e,a){this.menuCtrl=i,this.router=e,this.bd=a,this.detalles=[{iddetalle:"",cantidad:"",subtotal:"",ventad:"",productod:"",nombreprod:"",precio:"",stock:"",foto:""}],this.idUser=0,this.compras=[{idventa:"",fechaventa:"",estado:"",fechaentrega:"",total:"",carrito:"",usuariov:""}],this.hayCompras=!0}abrirSuperior(){this.menuCtrl.enable(!0,"superior"),this.menuCtrl.open("superior")}abrirCategorias(){this.menuCtrl.enable(!0,"categorias"),this.menuCtrl.open("categorias")}irHomeCli(){this.router.navigate([""])}irPedido(i){this.router.navigate(["ver-compra"],{state:{idEnviar:i}})}ngOnInit(){this.idUser=localStorage.getItem("usuario"),this.bd.dbState().subscribe(i=>{i&&this.bd.buscarVentaCarrito(this.idUser,"Comprado").subscribe(e=>{e.length>0?(this.compras=e,this.hayCompras=!0):(this.hayCompras=!1,this.bd.presentAlert("No hay compras previas"))})})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(r._q),t.Y36(l.F0),t.Y36(g.N))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-historial-compra"]],decls:18,vars:2,consts:[[1,"cabecera",3,"translucent"],[1,"logo-contenedor"],["src","/assets/logo.png","alt","No hay logo"],["color","paleta",1,"toolbar-c"],["slot","end",1,"boton-guesa"],[3,"click"],[1,"titulo",3,"click"],[1,"categorias"],["fill","clear",3,"click"],[1,"cuerpo"],[1,"nombre-pag"],[4,"ngIf"],["class","contenedor-pedido",4,"ngFor","ngForOf"],[1,"contenedor-pedido"],[1,"fecha"],[1,"pedido"],[1,"contenedor-boton"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header",0)(1,"div",1),t._UZ(2,"ion-img",2),t.qZA(),t.TgZ(3,"ion-toolbar",3)(4,"ion-buttons",4)(5,"ion-menu-button",5),t.NdJ("click",function(){return a.abrirSuperior()}),t.qZA()(),t.TgZ(6,"ion-title",6),t.NdJ("click",function(){return a.irHomeCli()}),t._uU(7," Ivan's "),t.qZA()(),t.TgZ(8,"div",7)(9,"ion-button",8),t.NdJ("click",function(){return a.abrirCategorias()}),t._uU(10,"Categorias"),t.qZA()()(),t.TgZ(11,"ion-content",9)(12,"ion-grid")(13,"ion-row")(14,"ion-col")(15,"h1",10),t._uU(16,"Historial de compras"),t.qZA()()(),t.YNc(17,h,2,1,"div",11),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(17),t.Q6J("ngIf",!0===a.hayCompras))},dependencies:[s.sg,s.O5,r.YG,r.Sm,r.wI,r.W2,r.jY,r.Gu,r.Xz,r.fG,r.Nd,r.wd,r.sr,s.uU],styles:[".contenedor-pedido[_ngcontent-%COMP%]{border-bottom:2px solid #999;display:flex;align-items:center}.cuerpo[_ngcontent-%COMP%]{--background: #fff}.fecha[_ngcontent-%COMP%], .pedido[_ngcontent-%COMP%]{color:#000}.contenedor-boton[_ngcontent-%COMP%]{height:50px;width:90px;display:flex;align-items:center}.contenedor-boton[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;height:100%;--background: #ff0;--color: #000;font-size:20px;--border-radius: 100px}"]})}return o})()}];let C=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#o=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(f),l.Bz]})}return o})(),b=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#o=this.\u0275mod=t.oAB({type:o});static#i=this.\u0275inj=t.cJS({imports:[s.ez,p.u5,r.Pc,C]})}return o})()}}]);
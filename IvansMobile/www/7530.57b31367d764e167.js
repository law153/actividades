"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7530],{7530:(I,g,n)=>{n.r(g),n.d(g,{IniSesionPageModule:()=>b});var h=n(6814),c=n(95),o=n(7852),u=n(7168),d=n(5861),e=n(6242),p=n(6506),m=n(6389),v=n(8513);const f=[{path:"",component:(()=>{class t{constructor(s,i,r,a,l,C){this.menuCtrl=s,this.router=i,this.alerta=r,this.bd=a,this.permisos=l,this.sesion=C,this.correo="",this.clave="",this.flag=!0,this.usuario={idusuario:"",rut:"",dvrut:"",nombre:"",apellido:"",telefono:"",correo:"",clave:"",direccion:"",fotousuario:"",respuesta:"",rolu:"",preguntau:""}}irHome(){this.router.navigate([""])}limpiar(){this.correo="",this.clave=""}iniciarSesion(){this.bd.dbState().subscribe(s=>{s&&this.bd.buscarPorCorreo(this.correo).subscribe(i=>{1===i.length?(this.usuario=i[0],this.clave===this.usuario.clave?(localStorage.setItem("correo",this.usuario.correo),localStorage.setItem("usuario",""+this.usuario.idusuario),this.sesion.setCorreoSesion(this.usuario.correo),1===this.usuario.rolu&&(this.router.navigate([""]),localStorage.setItem("rol","1"),this.rolStorage=localStorage.getItem("rol"),this.permisos.setUserRole(parseInt(this.rolStorage))),2===this.usuario.rolu&&(this.router.navigate([""]),localStorage.setItem("rol","2"),this.rolStorage=localStorage.getItem("rol"),this.permisos.setUserRole(parseInt(this.rolStorage)))):this.bd.presentAlert("Correo y/o contrase\xf1a no encontrados")):(this.flag=!1,this.bd.presentAlert("Correo y/o contrase\xf1a no encontrados"))})})}irCli(){this.router.navigate(["/home-cli"])}irAdm(){this.router.navigate(["/home-adm"])}abrirSuperior(){this.menuCtrl.enable(!0,"superior"),this.menuCtrl.open("superior")}abrirCategorias(){this.menuCtrl.enable(!0,"categorias"),this.menuCtrl.open("categorias")}irOlvContra(){this.router.navigate(["/olv-contra"])}presentAlert(){var s=this;return(0,d.Z)(function*(){yield(yield s.alerta.create({header:"Atenci\xf3n",subHeader:"-----------",message:"usuarios no valido!",buttons:["Vale"]})).present()})()}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(o._q),e.Y36(u.F0),e.Y36(o.Br),e.Y36(p.N),e.Y36(m.X),e.Y36(v.J))};static#o=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-ini-sesion"]],decls:33,vars:4,consts:[[1,"cabecera",3,"translucent"],[1,"logo-contenedor"],["src","/assets/logo.png","alt","No hay logo"],["color","paleta",1,"toolbar-c"],["slot","end",1,"boton-guesa"],[3,"click"],[1,"titulo",3,"click"],[1,"content-fondo",3,"fullscreen"],[1,"nombre-pag"],[1,"contenedor-form"],["labelPlacement","stacked","label","Correo","type","email","placeholder","Correo",3,"ngModel","ngModelChange"],["labelPlacement","stacked","label","Clave","type","password","placeholder","Clave",3,"ngModel","ngModelChange"],[2,"text-align","center","text-decoration","underline","font-weight","bold",3,"click"],["shape","round",3,"click"]],template:function(i,r){1&i&&(e.TgZ(0,"ion-header",0)(1,"div",1),e._UZ(2,"ion-img",2),e.qZA(),e.TgZ(3,"ion-toolbar",3)(4,"ion-buttons",4)(5,"ion-menu-button",5),e.NdJ("click",function(){return r.abrirSuperior()}),e.qZA()(),e.TgZ(6,"ion-title",6),e.NdJ("click",function(){return r.irHome()}),e._uU(7," Ivan's "),e.qZA()()(),e.TgZ(8,"ion-content",7)(9,"ion-grid")(10,"div")(11,"ion-row")(12,"ion-col")(13,"h1",8),e._uU(14,"Inicio de Sesi\xf3n"),e.qZA()()()(),e.TgZ(15,"div",9)(16,"ion-row")(17,"ion-col")(18,"ion-input",10),e.NdJ("ngModelChange",function(l){return r.correo=l}),e.qZA()()(),e.TgZ(19,"ion-row")(20,"ion-col")(21,"ion-input",11),e.NdJ("ngModelChange",function(l){return r.clave=l}),e.qZA()()(),e.TgZ(22,"ion-row")(23,"ion-col")(24,"p",12),e.NdJ("click",function(){return r.irOlvContra()}),e._uU(25," Olvide mi contrase\xf1a"),e.qZA()()(),e.TgZ(26,"ion-row")(27,"ion-col")(28,"ion-button",13),e.NdJ("click",function(){return r.limpiar()}),e._uU(29," Limpiar "),e.qZA()(),e.TgZ(30,"ion-col")(31,"ion-button",13),e.NdJ("click",function(){return r.iniciarSesion()}),e._uU(32," Confirmar"),e.qZA()()()()()()),2&i&&(e.Q6J("translucent",!0),e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("ngModel",r.correo),e.xp6(3),e.Q6J("ngModel",r.clave))},dependencies:[c.JJ,c.On,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.Xz,o.pK,o.fG,o.Nd,o.wd,o.sr,o.j9],styles:["p[_ngcontent-%COMP%]:hover{color:#009}"]})}return t})()}];let S=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#o=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(f),u.Bz]})}return t})(),b=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#o=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[h.ez,c.u5,o.Pc,S]})}return t})()}}]);